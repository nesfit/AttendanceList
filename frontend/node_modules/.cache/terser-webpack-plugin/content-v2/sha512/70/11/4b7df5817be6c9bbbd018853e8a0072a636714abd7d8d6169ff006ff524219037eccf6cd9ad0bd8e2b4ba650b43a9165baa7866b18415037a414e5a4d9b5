{"code":"!function(e){function n(n){for(var a,r,i=n[0],o=n[1],c=n[2],s=0,l=[];s<i.length;s++)r=i[s],_[r]&&l.push(_[r][0]),_[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(B&&B(n);l.length;)l.shift()();return N.push.apply(N,c||[]),t()}function t(){for(var e,n=0;n<N.length;n++){for(var t=N[n],a=!0,r=1;r<t.length;r++){var i=t[r];0!==_[i]&&(a=!1)}a&&(N.splice(n--,1),e=C(C.s=t[0]))}return e}var a=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!O[e]||!E[e])return;for(var t in E[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(g[t]=n[t]);0==--v&&0===y&&k()}(e,n),a&&a(e,n)};var r,i=!0,o=\"8d70c012e40418fbb380\",c=1e4,s={},l=[],u=[];function d(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if(\"function\"==typeof e)n._selfAccepted=e;else if(\"object\"==typeof e)for(var a=0;a<e.length;a++)n._acceptedDependencies[e[a]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if(\"object\"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:x,apply:I,status:function(e){if(!e)return f;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var n=p.indexOf(e);n>=0&&p.splice(n,1)},data:s[e]};return r=void 0,n}var p=[],f=\"idle\";function m(e){f=e;for(var n=0;n<p.length;n++)p[n].call(null,e)}var h,g,b,v=0,y=0,w={},E={},O={};function j(e){return+e+\"\"===e?+e:e}function x(e){if(\"idle\"!==f)throw new Error(\"check() is only allowed in idle status\");return i=e,m(\"check\"),(n=c,n=n||1e4,new Promise(function(e,t){if(\"undefined\"==typeof XMLHttpRequest)return t(new Error(\"No browser support\"));try{var a=new XMLHttpRequest,r=C.p+\"\"+o+\".hot-update.json\";a.open(\"GET\",r,!0),a.timeout=n,a.send(null)}catch(e){return t(e)}a.onreadystatechange=function(){if(4===a.readyState)if(0===a.status)t(new Error(\"Manifest request to \"+r+\" timed out.\"));else if(404===a.status)e();else if(200!==a.status&&304!==a.status)t(new Error(\"Manifest request to \"+r+\" failed.\"));else{try{var n=JSON.parse(a.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return m(\"idle\"),null;E={},w={},O=e.c,b=e.h,m(\"prepare\");var n=new Promise(function(e,n){h={resolve:e,reject:n}});for(var t in g={},_)S(t);return\"prepare\"===f&&0===y&&0===v&&k(),n});var n}function S(e){O[e]?(E[e]=!0,v++,function(e){var n=document.createElement(\"script\");n.charset=\"utf-8\",n.src=C.p+\"\"+e+\".\"+o+\".hot-update.js\",document.head.appendChild(n)}(e)):w[e]=!0}function k(){m(\"ready\");var e=h;if(h=null,e)if(i)Promise.resolve().then(function(){return I(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&n.push(j(t));e.resolve(n)}}function I(n){if(\"ready\"!==f)throw new Error(\"apply() is only allowed in ready status\");var t,a,r,i,c;function u(e){for(var n=[e],t={},a=n.slice().map(function(e){return{chain:[e],id:e}});a.length>0;){var r=a.pop(),o=r.id,c=r.chain;if((i=P[o])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:\"self-declined\",chain:c,moduleId:o};if(i.hot._main)return{type:\"unaccepted\",chain:c,moduleId:o};for(var s=0;s<i.parents.length;s++){var l=i.parents[s],u=P[l];if(u){if(u.hot._declinedDependencies[o])return{type:\"declined\",chain:c.concat([l]),moduleId:o,parentId:l};-1===n.indexOf(l)&&(u.hot._acceptedDependencies[o]?(t[l]||(t[l]=[]),d(t[l],[o])):(delete t[l],n.push(l),a.push({chain:c.concat([l]),id:l})))}}}}return{type:\"accepted\",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function d(e,n){for(var t=0;t<n.length;t++){var a=n[t];-1===e.indexOf(a)&&e.push(a)}}n=n||{};var p={},h=[],v={},y=function(){console.warn(\"[HMR] unexpected require(\"+E.moduleId+\") to disposed module\")};for(var w in g)if(Object.prototype.hasOwnProperty.call(g,w)){var E;c=j(w);var x=!1,S=!1,k=!1,I=\"\";switch((E=g[w]?u(c):{type:\"disposed\",moduleId:w}).chain&&(I=\"\\nUpdate propagation: \"+E.chain.join(\" -> \")),E.type){case\"self-declined\":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(x=new Error(\"Aborted because of self decline: \"+E.moduleId+I));break;case\"declined\":n.onDeclined&&n.onDeclined(E),n.ignoreDeclined||(x=new Error(\"Aborted because of declined dependency: \"+E.moduleId+\" in \"+E.parentId+I));break;case\"unaccepted\":n.onUnaccepted&&n.onUnaccepted(E),n.ignoreUnaccepted||(x=new Error(\"Aborted because \"+c+\" is not accepted\"+I));break;case\"accepted\":n.onAccepted&&n.onAccepted(E),S=!0;break;case\"disposed\":n.onDisposed&&n.onDisposed(E),k=!0;break;default:throw new Error(\"Unexception type \"+E.type)}if(x)return m(\"abort\"),Promise.reject(x);if(S)for(c in v[c]=g[c],d(h,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,c)&&(p[c]||(p[c]=[]),d(p[c],E.outdatedDependencies[c]));k&&(d(h,[E.moduleId]),v[c]=y)}var N,D=[];for(a=0;a<h.length;a++)c=h[a],P[c]&&P[c].hot._selfAccepted&&D.push({module:c,errorHandler:P[c].hot._selfAccepted});m(\"dispose\"),Object.keys(O).forEach(function(e){!1===O[e]&&function(e){delete _[e]}(e)});for(var A,H,B=h.slice();B.length>0;)if(c=B.pop(),i=P[c]){var T={},L=i.hot._disposeHandlers;for(r=0;r<L.length;r++)(t=L[r])(T);for(s[c]=T,i.hot.active=!1,delete P[c],delete p[c],r=0;r<i.children.length;r++){var M=P[i.children[r]];M&&((N=M.parents.indexOf(c))>=0&&M.parents.splice(N,1))}}for(c in p)if(Object.prototype.hasOwnProperty.call(p,c)&&(i=P[c]))for(H=p[c],r=0;r<H.length;r++)A=H[r],(N=i.children.indexOf(A))>=0&&i.children.splice(N,1);for(c in m(\"apply\"),o=b,v)Object.prototype.hasOwnProperty.call(v,c)&&(e[c]=v[c]);var R=null;for(c in p)if(Object.prototype.hasOwnProperty.call(p,c)&&(i=P[c])){H=p[c];var z=[];for(a=0;a<H.length;a++)if(A=H[a],t=i.hot._acceptedDependencies[A]){if(-1!==z.indexOf(t))continue;z.push(t)}for(a=0;a<z.length;a++){t=z[a];try{t(H)}catch(e){n.onErrored&&n.onErrored({type:\"accept-errored\",moduleId:c,dependencyId:H[a],error:e}),n.ignoreErrored||R||(R=e)}}}for(a=0;a<D.length;a++){var q=D[a];c=q.module,l=[c];try{C(c)}catch(e){if(\"function\"==typeof q.errorHandler)try{q.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:\"self-accept-error-handler-errored\",moduleId:c,error:t,originalError:e}),n.ignoreErrored||R||(R=t),R||(R=e)}else n.onErrored&&n.onErrored({type:\"self-accept-errored\",moduleId:c,error:e}),n.ignoreErrored||R||(R=e)}}return R?(m(\"fail\"),Promise.reject(R)):(m(\"idle\"),new Promise(function(e){e(h)}))}var P={},_={0:0},N=[];function C(n){if(P[n])return P[n].exports;var t=P[n]={i:n,l:!1,exports:{},hot:d(n),parents:(u=l,l=[],u),children:[]};return e[n].call(t.exports,t,t.exports,function(e){var n=P[e];if(!n)return C;var t=function(t){return n.hot.active?(P[t]?-1===P[t].parents.indexOf(e)&&P[t].parents.push(e):(l=[e],r=t),-1===n.children.indexOf(t)&&n.children.push(t)):(console.warn(\"[HMR] unexpected require(\"+t+\") from disposed module \"+e),l=[]),C(t)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(n){C[e]=n}}};for(var i in C)Object.prototype.hasOwnProperty.call(C,i)&&\"e\"!==i&&\"t\"!==i&&Object.defineProperty(t,i,a(i));return t.e=function(e){return\"ready\"===f&&m(\"prepare\"),y++,C.e(e).then(n,function(e){throw n(),e});function n(){y--,\"prepare\"===f&&(w[e]||S(e),0===y&&0===v&&k())}},t.t=function(e,n){return 1&n&&(e=t(e)),C.t(e,-2&n)},t}(n)),t.l=!0,t.exports}C.m=e,C.c=P,C.d=function(e,n,t){C.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},C.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},C.t=function(e,n){if(1&n&&(e=C(e)),8&n)return e;if(4&n&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(C.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&n&&\"string\"!=typeof e)for(var a in e)C.d(t,a,function(n){return e[n]}.bind(null,a));return t},C.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(n,\"a\",n),n},C.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},C.p=\"\",C.h=function(){return o};var D=window.webpackJsonp=window.webpackJsonp||[],A=D.push.bind(D);D.push=n,D=D.slice();for(var H=0;H<D.length;H++)n(D[H]);var B=A;N.push([359,1]),t()}({359:function(e,n,t){\"use strict\";t.r(n);var a,r=t(66),i=t.n(r),o=t(0),c=t.n(o),s=t(19),l=t.n(s),u=t(160),d=t(159),p=t(75),f=t(45),m=t(138),h=t(139),g=t.n(h),b=t(4),v=t.n(b),y=t(360),w=t(364),E=t(361),O=t(366),j={reloadTicker:null},x=Object(w.a)(Object(E.a)(\"course\"),Object(E.a)(\"item\"),Object(E.a)(\"courseSearchAbbrev\")),S=Object(E.a)(\"notification\"),k=Object(E.a)(\"item\"),I=Object(y.a)(\"loading\",!0),P=Object(y.a)(\"loading\",!1),_=(a={},v()(a,\"user-login\",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Object(y.a)(\"user\",n,e)}),v()(a,\"course-info-received\",function(e,n){var t=n.abbrev,a=n.info;return Object(w.a)(Object(y.a)(\"course\",a),Object(y.a)(\"courseSearchAbbrev\",t))(e)}),v()(a,\"delete-course\",x),v()(a,\"item-received\",function(e,n){return Object(y.a)(\"item\",n,e)}),v()(a,\"delete-item\",k),v()(a,\"add-notification\",function(e,n){return Object(y.a)(\"notification\",n,e)}),v()(a,\"delete-notification\",S),v()(a,\"loading-on\",I),v()(a,\"loading-off\",P),v()(a,\"fallback\",O.a),a),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;return(_[n.type]||_.fallback)(e,n.payload)},C=Object(f.a)(m.a,g.a),D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.c,A=Object(f.d)(N,D(C)),H=t(92),B=t(9),T=t.n(B),L=t(10),M=t.n(L),R=t(11),z=t.n(R),q=t(12),U=t.n(q),F=t(26),W=t.n(F),X=t(13),G=t.n(X),J=t(2),V=t.n(J),K=t(143),Q=t.n(K),Y=t(71),Z=t.n(Y),$=t(68),ee=t.n($),ne=t(69),te=t.n(ne),ae=t(42),re=t.n(ae),ie=t(70),oe=t.n(ie),ce=t(144),se=t.n(ce),le=t(41),ue=t.n(le),de=t(20),pe=t.n(de),fe=t(8),me=t.n(fe),he=t(142),ge=t(362),be=t(141),ve=t.n(be),ye=\"\".concat(\"http://cardreader.local\",\"/api/app/\"),we=ve.a.create(),Ee=function(e){var n=e.url,t=e.method,a=e.data;return A.dispatch({type:\"loading-on\"}),we({url:n,baseURL:ye,headers:{\"Content-Type\":\"application/json\"},rejectUnauthorized:!1,method:t,data:a}).then(function(e){return A.dispatch({type:\"loading-off\"}),e})},Oe=function(e,n,t){A.dispatch(function(e,n,t){return{type:\"add-notification\",payload:{variant:e,message:n,timeout:t}}}(e,n,t)),A.dispatch({type:\"delete-notification\"})},je=function(e,n){return Oe(\"error\",e,n)},xe=function(e,n){return Oe(\"success\",e,n)},Se=Object(w.a)(Object(he.a)([\"request\",\"response\"]),JSON.parse),ke=function(e){var n,t,a,r;return(n=e,t=n.login,a=n.pass,r=btoa(\"\".concat(t,\":\").concat(a)),Ee({url:\"auth_token\",method:\"post\",data:{token:r}})).then(function(n){var t=Se(n);200===n.status&&Object(ge.a)(t.error)?A.dispatch(function(e){return xe(\"User logged in\"),{type:\"user-login\",payload:e}}(e)):je(\"Login failed\")}).catch(function(){return je(\"Connection error\")}),{type:\"user-login-send\"}},Ie=function(e){return function(e){return Ee({url:\"course?abbrv=\".concat(e),method:\"get\"})}(e).then(function(n){var t=Se(n);t.error?(je(\"Can't find course info by abbreviation\"),A.dispatch({type:\"delete-course\"})):A.dispatch(function(e,n){return{type:\"course-info-received\",payload:{abbrev:e,info:n}}}(e,t))}).catch(function(){return je(\"Connection error\")}),{type:\"get-course-by-abbrev-send\"}},Pe=function(){return function(e,n){return Ee({url:\"course/item?course=\".concat(e,\"&item=\").concat(n),method:\"get\"})}.apply(void 0,arguments).then(function(e){var n=Se(e);n.error?je(\"Can't find item info\"):A.dispatch({type:\"item-received\",payload:n})}).catch(function(){return je(\"Connection error\")}),{type:\"get-item-send\"}},_e=function(){return je(\"Connection error\"),{type:\"points-save-error\"}},Ne=function(e,n,t){return function(e,n,t){return Ee({url:\"course/item/points\",method:\"post\",data:{course:e,item:n,value:t}})}(e,n,t).then(function(e){var n=Se(e);n.error?je(\"Can't write points to item\"):A.dispatch((xe(\"Points saved\"),{type:\"points-saved\"}))}).catch(_e),{type:\"set-item-points-send\"}},Ce=function(e){var n;return(n=e,Ee({url:\"course/item\",method:\"post\",data:n})).then(function(e){Se(e).error?je(\"Can't set active item\"):xe(\"Active item set\")}).catch(function(){return je(\"Connection error\")}),{type:\"active-item-set\"}},De=Object(w.a)(ke,A.dispatch),Ae=function(e){function n(e){var t;return T()(this,n),t=z()(this,U()(n).call(this,e)),v()(W()(t),\"loginHandler\",function(e){De(t.state),e.preventDefault()}),v()(W()(t),\"loginChange\",function(e){var n=Object(y.a)(\"login\",e.target.value,t.state);t.setState(n)}),v()(W()(t),\"passChange\",function(e){var n=Object(y.a)(\"pass\",e.target.value,t.state);t.setState(n)}),t.state={login:\"login\",pass:\"pass\"},t}return G()(n,e),M()(n,[{key:\"render\",value:function(){var e=this.props.classes,n=this.state,t=n.pass,a=n.login;return c.a.createElement(\"main\",{className:e.main},c.a.createElement(ee.a,null),c.a.createElement(ue.a,{className:e.paper},c.a.createElement(Q.a,{className:e.avatar},c.a.createElement(se.a,null)),c.a.createElement(pe.a,{component:\"h1\",variant:\"h5\"},\"Sign in\"),c.a.createElement(\"form\",{className:e.form},c.a.createElement(te.a,{margin:\"normal\",required:!0,fullWidth:!0},c.a.createElement(oe.a,{htmlFor:\"login\"},\"WIS Login\"),c.a.createElement(re.a,{value:a,onChange:this.loginChange,id:\"name\",name:\"login\",autoComplete:\"name\",autoFocus:!0})),c.a.createElement(te.a,{margin:\"normal\",required:!0,fullWidth:!0},c.a.createElement(oe.a,{htmlFor:\"password\"},\"Password\"),c.a.createElement(re.a,{value:t,onChange:this.passChange,name:\"password\",type:\"password\",id:\"password\",autoComplete:\"current-password\"})),c.a.createElement(Z.a,{type:\"submit\",fullWidth:!0,variant:\"contained\",color:\"primary\",onClick:this.loginHandler,className:e.submit},\"Sign in\"))))}}]),n}(c.a.Component);Ae.propTypes={classes:V.a.object.isRequired};var He,Be,Te,Le,Me=me()(function(e){return{main:v()({width:\"auto\",display:\"block\",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:\"auto\",marginRight:\"auto\"}),paper:{marginTop:8*e.spacing.unit,display:\"flex\",flexDirection:\"column\",alignItems:\"center\",padding:\"\".concat(2*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px \").concat(3*e.spacing.unit,\"px\")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:\"100%\",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Ae),Re=t(145),ze=t.n(Re),qe=t(52),Ue=t.n(qe),Fe=t(149),We=t.n(Fe),Xe=t(152),Ge=t.n(Xe),Je=t(150),Ve=t.n(Je),Ke=t(91),Qe=t.n(Ke),Ye=t(155),Ze=t.n(Ye),$e=t(153),en=t.n($e),nn=t(154),tn=t.n(nn),an=t(151),rn=t.n(an),on=t(6),cn=t.n(on),sn=t(30),ln=t(53),un=t.n(ln),dn=t(140),pn=t(161),fn=t(72),mn=t.n(fn),hn=t(73),gn=t.n(hn),bn=t(46),vn=t.n(bn),yn=t(21),wn=t.n(yn),En=t(74),On=t.n(En),jn=t(146),xn=t.n(jn),Sn=Object(dn.a)(function(e,n){var t=n.variants||[],a=Object(pn.a)(function(e){return function(n){return Object(w.a)(Object(y.a)(\"max\",e.max),Object(y.a)(\"child\",!0))(n)}}(n),t),r=Object(E.a)(\"variants\",n);return[].concat(un()(e),[r],un()(a))},[]),kn=Object(sn.withStyles)(function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:\"100vh\",overflow:\"auto\"},tableContainer:{height:320},icon:{position:\"relative\",top:e.spacing.unit,width:e.typography.display1.fontSize,height:e.typography.display1.fontSize},row:{\"&:hover\":{background:\"#CCC\"}}}})(function(e){var n=e.classes,t=A.getState().course,a=Sn(t.items);return c.a.createElement(\"main\",{className:n.content},c.a.createElement(\"div\",{className:n.appBarSpacer}),c.a.createElement(pe.a,{variant:\"h4\",gutterBottom:!0,component:\"h2\"},\" \",\"\".concat(t.abbrv,\": \").concat(t.title),\" \"),c.a.createElement(pe.a,{component:\"div\",className:n.chartContainer},c.a.createElement(mn.a,{className:n.table},c.a.createElement(gn.a,null,c.a.createElement(vn.a,null,c.a.createElement(wn.a,null,\"Item name\"),c.a.createElement(wn.a,{align:\"left\"},\"Points\"))),c.a.createElement(On.a,null,a.map(function(e){return c.a.createElement(vn.a,{key:e.id,className:n.row,onClick:function(){return n=t.id,a=e.id,void A.dispatch(Pe(n,a));var n,a}},c.a.createElement(wn.a,{component:\"th\",scope:\"row\"},c.a.createElement(pe.a,{variant:\"body1\"},e.child?c.a.createElement(xn.a,{className:n.icon}):\"\",e.title)),c.a.createElement(wn.a,{align:\"left\"},e.max))})))))}),In=t(367),Pn=t(363),_n=t(365),Nn=t(93),Cn=t.n(Nn),Dn=t(147),An=t.n(Dn),Hn=t(148),Bn=t.n(Hn),Tn=function(e,n){return Object(_n.a)(function(n){return n.id===e||Object(Pn.a)(e,function(e){return Object(In.a)(\"id\",e.variants||[])}(n))},n)},Ln=function(){var e=A.getState(),n=e.course,t=e.item;return{course:n,item:t,parentItem:Tn(t.item,n.items),courseId:n.id,itemId:t.item}},Mn=(He=function(e,n,t){return A.dispatch(Ne(e,n,t))},Be=2e3,(Le=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Te&&clearTimeout(Te),Te=setTimeout(function(){return He.apply(void 0,n)},Be)}).clear=function(){Te&&clearTimeout(Te)},Le),Rn=function(e){function n(e){var t;T()(this,n),t=z()(this,U()(n).call(this,e)),v()(W()(t),\"handleAwardChange\",function(e){var n=Ln(),a=n.itemId,r=n.courseId,i=e.target.value,o=parseInt(i,10);t.setState({pointsPerItem:Number.isNaN(o)?i:o}),Number.isNaN(o)?Mn.clear():Mn(r,a,o)}),v()(W()(t),\"setItemActive\",function(){var e=Ln(),n=e.course,a=e.item,r=e.courseId,i=e.itemId,o=!a.isActive;t.setState({isActive:o});var c={abbrv:n.abbrv,year:n.year,sem:n.sem,item:i,course:r};A.dispatch(Ce(c))});var a=Ln().item;return t.state={pointsPerItem:a.pointsPerItem,isActive:Boolean(a.isActive)},t}return G()(n,e),M()(n,[{key:\"componentWillMount\",value:function(){var e=Ln(),n=e.courseId,t=e.itemId;this.ticker=setInterval(function(){return A.dispatch(Pe(n,t))},2e3)}},{key:\"componentWillUnmount\",value:function(){clearInterval(this.ticker)}},{key:\"render\",value:function(){var e=Ln(),n=e.course,t=e.item,a=e.parentItem,r=this.props.classes,i=t.students,o=cn()([r.icon,r.green]),s=cn()([r.icon,r.red]);return c.a.createElement(\"main\",{className:r.content},c.a.createElement(\"div\",{className:r.appBarSpacer}),c.a.createElement(pe.a,{variant:\"h4\",gutterBottom:!0,component:\"h2\"},\" \",\"\".concat(n.abbrv,\": \").concat(n.title),\" \"),c.a.createElement(pe.a,{variant:\"h6\",gutterBottom:!0,component:\"h3\"},\" \",t.title,\" \"),c.a.createElement(Cn.a,{id:\"standard-number\",label:\"Points award\",type:\"number\",className:r.textField,InputLabelProps:{shrink:!0},margin:\"normal\",value:this.state.pointsPerItem,onChange:this.handleAwardChange}),c.a.createElement(Cn.a,{id:\"standard-number\",label:\"Max points\",type:\"number\",className:r.textField,InputLabelProps:{shrink:!0},margin:\"normal\",defaultValue:a.max,disabled:!0}),c.a.createElement(Z.a,{variant:\"contained\",className:r.button,disabled:this.state.isActive,onClick:this.setItemActive},this.state.isActive?\"Item is active\":\"Set as active\"),c.a.createElement(pe.a,{variant:\"h6\",gutterBottom:!0,component:\"h3\"},\" Students \"),c.a.createElement(pe.a,{component:\"div\"},c.a.createElement(mn.a,{className:r.table},c.a.createElement(gn.a,null,c.a.createElement(vn.a,null,c.a.createElement(wn.a,null,\"Name\"),c.a.createElement(wn.a,{align:\"left\"},\"Login\"),c.a.createElement(wn.a,{align:\"left\"},\"Awarded\"),c.a.createElement(wn.a,{align:\"left\"},\"Total points\"))),c.a.createElement(On.a,null,i.map(function(e){return c.a.createElement(vn.a,{key:e.id},c.a.createElement(wn.a,{component:\"th\",scope:\"row\"},e.name),c.a.createElement(wn.a,{component:\"th\",scope:\"row\"},e.login),c.a.createElement(wn.a,{align:\"left\"},e.awardedPoints||0,e.awardedPoints&&e.awardedPoints===t.pointsPerItem?c.a.createElement(An.a,{className:o}):c.a.createElement(Bn.a,{className:s})),c.a.createElement(wn.a,{align:\"left\"},e.points))})))))}}]),n}(c.a.Component),zn=Object(sn.withStyles)(function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:\"100vh\",overflow:\"auto\"},tableContainer:{height:320},icon:{position:\"relative\",top:e.spacing.unit,width:\"0.7em\",height:\"0.7em\",marginLeft:\"0.5em\",marginBottom:5},red:{color:\"red\"},green:{color:\"green\"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{backgroundColor:\"#00c2ee\"}}})(Rn),qn=function(e){if(\"Enter\"===e.key){var n=e.target.value;A.dispatch({type:\"delete-item\"}),A.dispatch(Ie(n))}},Un=function(e){var n,t,a,r=e.classes,i=A.getState();return c.a.createElement(\"div\",{className:r.root},c.a.createElement(ee.a,null),c.a.createElement(We.a,{position:\"absolute\",className:cn()(r.appBar)},c.a.createElement(Ve.a,{className:r.toolbar},c.a.createElement(pe.a,{component:\"h1\",variant:\"h6\",color:\"inherit\",noWrap:!0,className:r.title},\"Dashboard\"),i.loading?c.a.createElement(rn.a,{className:r.progress,color:\"secondary\"}):null)),c.a.createElement(Ge.a,{variant:\"permanent\",classes:{paper:cn()(r.drawerPaper)}},c.a.createElement(\"div\",{className:r.toolbarIcon},c.a.createElement(en.a,null,c.a.createElement(tn.a,null))),c.a.createElement(Ze.a,null),c.a.createElement(Qe.a,null,c.a.createElement(Ue.a,{placeholder:\"Subject abbreviation\",classes:{root:r.inputRoot,input:r.inputInput},onKeyDown:qn,defaultValue:i.courseSearchAbbrev}))),(t=(n=i).course,a=n.item,t&&a?c.a.createElement(zn,null):t?c.a.createElement(kn,null):\"Nothing loaded\"))};Un.propTypes={classes:V.a.object.isRequired};var Fn=Object(sn.withStyles)(function(e){return{root:{display:\"flex\"},toolbar:{paddingRight:24},toolbarIcon:ze()({display:\"flex\",alignItems:\"center\",justifyContent:\"flex-end\",padding:\"0 8px\"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create([\"width\",\"margin\"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:\"calc(100% - \".concat(240,\"px)\"),transition:e.transitions.create([\"width\",\"margin\"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:\"none\"},title:{flexGrow:1},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:240,transition:e.transitions.create(\"width\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:v()({overflowX:\"hidden\",transition:e.transitions.create(\"width\",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up(\"sm\"),{width:9*e.spacing.unit}),h5:{marginBottom:2*e.spacing.unit},inputInput:{margin:\"10px\"}}})(Un),Wn=function(e){var n=A.getState().notification;return n&&e.enqueueSnackbar(n.message,n),\"\"},Xn=Object(H.withSnackbar)(Wn),Gn=function(){var e=A.getState();return c.a.createElement(H.SnackbarProvider,{maxSnack:3},c.a.createElement(\"div\",null,e.user?c.a.createElement(Fn,null):c.a.createElement(Me,null),c.a.createElement(Xn,null)))};function Jn(){var e=i()([\"\\n    html {\\n        box-sizing: border-box;\\n        /* Nicer looking fonts for OS X and iOS */\\n        -webkit-font-smoothing: antialiased;\\n    }\\n\\n    * {\\n        user-select: none;\\n        -webkit-tap-highlight-color: rgba(255, 255, 255, 0);\\n        -webkit-tap-highlight-color: transparent;\\n        box-sizing: inherit;\\n    }\\n\\n    *:before,\\n    *:after {\\n        box-sizing: inherit;\\n    }\\n\\n    input[type],\\n    [contenteditable] {\\n        user-select: text;\\n    }\\n\\n    body,\\n    h1,\\n    h2,\\n    h3,\\n    h4,\\n    h5,\\n    h6,\\n    p {\\n        margin: 0;\\n        font-size: 1rem;\\n        font-weight: 400;\\n    }\\n\\n    base,\\n    basefont,\\n    datalist,\\n    head,\\n    meta,\\n    script,\\n    style,\\n    title,\\n    noembed,\\n    param,\\n    template {\\n        display: none;\\n    }\\n\\n    a {\\n        text-decoration: none;\\n        color: inherit;\\n    }\\n\\n    b {\\n        font-weight: 400;\\n    }\\n\\n    em,\\n    i {\\n        font-style: normal;\\n    }\\n\\n    a:focus,\\n    button:focus {\\n        outline: 0;\\n    }\\n\\n    button {\\n        appearance: none;\\n        background-color: transparent;\\n        border: 0;\\n        padding: 0;\\n    }\\n\\n    input,\\n    fieldset {\\n        appearance: none;\\n        border: 0;\\n        padding: 0;\\n        margin: 0;\\n        min-width: 0;\\n        font-size: 1rem;\\n        font-family: inherit;\\n    }\\n\\n    input::-ms-clear {\\n        display: none;\\n    }\\n\\n    input:focus {\\n        outline: 0;\\n    }\\n\\n    input[type='number'] {\\n        -moz-appearance: textfield;\\n    }\\n\\n    input[type='number']::-webkit-inner-spin-button,\\n    input[type='number']::-webkit-outer-spin-button {\\n        appearance: none;\\n    }\\n\\n    svg {\\n        display: block;\\n    }\\n\\n    img {\\n        max-width: 100%;\\n        display: block;\\n    }\\n\\n    select:-moz-focusring {\\n        color: transparent;\\n        text-shadow: 0 0 0 #000;\\n    }\\n\\n    body {\\n        box-sizing: border-box;\\n    }\\n\"]);return Jn=function(){return e},e}var Vn=Object(p.b)(Jn());function Kn(){var e=i()([\"\",\"\"]);return Kn=function(){return e},e}var Qn=Object(p.a)(Kn(),Vn),Yn=function(){return l.a.render(c.a.createElement(u.a,null,c.a.createElement(o.Fragment,null,c.a.createElement(d.a,{store:A},c.a.createElement(Gn,null)),c.a.createElement(Qn,null))),document.getElementById(\"root\"))};Yn(),A.subscribe(Yn)}});","extractedComments":[]}